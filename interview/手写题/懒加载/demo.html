<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=356729307,4069453690&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3710650262,1181062705&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=3230329964,3648626334&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=356729307,4069453690&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3710650262,1181062705&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://dss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1056629638,148331236&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=356729307,4069453690&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3710650262,1181062705&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=3230329964,3648626334&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=356729307,4069453690&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3710650262,1181062705&fm=26&gp=0.jpg"><br />
    <img src="./zhanwei.jpg" alt=""
        data-src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=3230329964,3648626334&fm=26&gp=0.jpg"><br />
    <script>
        const imgList = [...document.getElementsByTagName('img')];
        let length = imgList.length;
        const imgLazyload = function () {
            let count = 0;
            return function () {
                let deleteList = [];
                imgList.forEach((img, index) => {
                    let rect = img.getBoundingClientRect();
                    if (rect.top < window.innerHeight) {
                        img.src = img.dataset.src;
                        count++;
                        deleteList.push(index);
                        if (count === length) {
                            document.removeEventListener('scroll', listener);
                        }
                    }
                });
                imgList.filter((img, index) => {
                    return !deleteList.includes(index);
                })
            }
        }
        let listener = imgLazyload();
        document.addEventListener('scroll', listener);
    </script>
</body>

</html>